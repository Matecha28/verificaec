/* VerificaEC — sidepanel.css */
/* Dark theme con identidad visual El Comercio */

:root {
  --bg:          #0f1117;
  --bg2:         #1a1d27;
  --bg3:         #242736;
  --border:      #2e3347;
  --text:        #e8eaf0;
  --text-muted:  #7c8099;
  --accent:      #e63946;
  --accent-dark: #b02230;
  --verdadero:   #27ae60;
  --falso:       #e74c3c;
  --enganoso:    #e67e22;
  --incierto:    #7f8c8d;
  --radius:      8px;
  --radius-sm:   5px;
}

* { box-sizing: border-box; margin: 0; padding: 0; }

body {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  font-size: 13px;
  background: var(--bg);
  color: var(--text);
  min-height: 100vh;
  overflow-x: hidden;
}

.hidden { display: none !important; }

/* ─── HEADER ─── */
#app-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 10px 14px;
  background: var(--bg2);
  border-bottom: 2px solid var(--accent);
  position: sticky;
  top: 0;
  z-index: 100;
}

#logo-text {
  font-size: 18px;
  font-weight: 800;
  color: var(--accent);
  letter-spacing: -0.5px;
}

#logo-sub {
  display: block;
  font-size: 9px;
  color: var(--text-muted);
  letter-spacing: 0.5px;
  text-transform: uppercase;
}

#btn-settings {
  background: none;
  border: none;
  cursor: pointer;
  font-size: 18px;
  padding: 4px;
  border-radius: var(--radius-sm);
  transition: background 0.15s;
}
#btn-settings:hover { background: var(--bg3); }

/* ─── SETTINGS PANEL ─── */
#settings-panel {
  padding: 16px;
  background: var(--bg2);
  border-bottom: 1px solid var(--border);
}

#settings-panel h2 {
  font-size: 14px;
  font-weight: 700;
  color: var(--accent);
  margin-bottom: 14px;
}

.field-group {
  margin-bottom: 14px;
}

.field-group label {
  display: block;
  font-size: 11px;
  font-weight: 600;
  color: var(--text-muted);
  text-transform: uppercase;
  letter-spacing: 0.4px;
  margin-bottom: 5px;
}

.field-group input,
.field-group select {
  width: 100%;
  padding: 8px 10px;
  background: var(--bg3);
  border: 1px solid var(--border);
  border-radius: var(--radius-sm);
  color: var(--text);
  font-size: 13px;
  outline: none;
  transition: border-color 0.15s;
}
.field-group input:focus,
.field-group select:focus { border-color: var(--accent); }

.hint-link {
  display: block;
  margin-top: 4px;
  font-size: 11px;
  color: var(--accent);
  text-decoration: none;
}
.hint-link:hover { text-decoration: underline; }

/* ─── BUTTONS ─── */
button { cursor: pointer; font-family: inherit; transition: all 0.15s; }

.btn-primary {
  background: var(--accent);
  color: #fff;
  border: none;
  padding: 9px 16px;
  border-radius: var(--radius-sm);
  font-size: 13px;
  font-weight: 600;
}
.btn-primary:hover { background: var(--accent-dark); }

.btn-secondary {
  background: var(--bg3);
  color: var(--text);
  border: 1px solid var(--border);
  padding: 9px 16px;
  border-radius: var(--radius-sm);
  font-size: 13px;
}
.btn-secondary:hover { border-color: var(--accent); }

.btn-danger {
  background: #7b1d1d;
  color: #fca5a5;
  border: none;
  padding: 9px 16px;
  border-radius: var(--radius-sm);
  font-size: 13px;
  font-weight: 600;
}
.btn-danger:hover { background: #991b1b; }

.btn-accent {
  background: var(--bg3);
  color: var(--accent);
  border: 1px solid var(--accent);
  padding: 8px 14px;
  border-radius: var(--radius-sm);
  font-size: 13px;
  font-weight: 600;
}
.btn-accent:hover { background: var(--accent); color: #fff; }

.btn-large { width: 100%; padding: 11px; font-size: 14px; }

/* ─── MAIN PANEL ─── */
#main-panel {
  padding: 12px 14px;
  display: flex;
  flex-direction: column;
  gap: 10px;
}

#video-info {
  background: var(--bg2);
  border: 1px solid var(--border);
  border-radius: var(--radius-sm);
  padding: 8px 10px;
  font-size: 12px;
  color: var(--text-muted);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

#controls {
  display: flex;
  flex-direction: column;
  gap: 6px;
}

/* ─── RATE BAR ─── */
#rate-bar {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 11px;
  color: var(--text-muted);
}
#rate-track {
  flex: 1;
  height: 4px;
  background: var(--bg3);
  border-radius: 99px;
  overflow: hidden;
}
#rate-fill {
  height: 100%;
  background: var(--verdadero);
  width: 0%;
  transition: width 0.4s, background 0.4s;
  border-radius: 99px;
}

/* ─── PROGRESS ─── */
#progress-area {
  background: var(--bg2);
  border-radius: var(--radius);
  padding: 10px 12px;
  border: 1px solid var(--border);
}
#progress-label {
  font-size: 12px;
  color: var(--text-muted);
  margin-bottom: 6px;
}
#progress-track {
  height: 6px;
  background: var(--bg3);
  border-radius: 99px;
  overflow: hidden;
}
#progress-fill {
  height: 100%;
  background: var(--accent);
  width: 0%;
  transition: width 0.3s;
  border-radius: 99px;
}

/* ─── STATS BAR ─── */
#stats-bar {
  display: flex;
  align-items: center;
  gap: 6px;
  flex-wrap: wrap;
}
.stat-badge {
  font-size: 11px;
  font-weight: 700;
  padding: 3px 8px;
  border-radius: 99px;
  color: #fff;
}
.stat-badge.verdadero { background: var(--verdadero); }
.stat-badge.falso     { background: var(--falso); }
.stat-badge.enganoso  { background: var(--enganoso); }
.stat-badge.incierto  { background: var(--incierto); }
#stat-total {
  font-size: 11px;
  color: var(--text-muted);
  margin-left: auto;
}

/* ─── VIEW SWITCHER ─── */
#view-switcher {
  display: flex;
  gap: 4px;
}
.view-btn {
  flex: 1;
  padding: 6px;
  font-size: 11px;
  font-weight: 600;
  background: var(--bg3);
  border: 1px solid var(--border);
  color: var(--text-muted);
  border-radius: var(--radius-sm);
  text-transform: uppercase;
  letter-spacing: 0.4px;
}
.view-btn.active {
  background: var(--accent);
  border-color: var(--accent);
  color: #fff;
}

/* ─── CLAIMS ─── */
#empty-state {
  text-align: center;
  padding: 40px 20px;
  color: var(--text-muted);
  line-height: 1.6;
}
#empty-state .hint {
  font-size: 11px;
  margin-top: 8px;
  opacity: 0.7;
}

.claim-card {
  background: var(--bg2);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  margin-bottom: 8px;
  overflow: hidden;
  transition: border-color 0.2s;
}
.claim-card:hover { border-color: var(--accent); }

.claim-header {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 8px 10px;
  border-bottom: 1px solid var(--border);
  cursor: pointer;
}

.verdict-badge {
  font-size: 10px;
  font-weight: 800;
  padding: 3px 7px;
  border-radius: 4px;
  white-space: nowrap;
  color: #fff;
  letter-spacing: 0.5px;
}
.verdict-badge.verdadero { background: var(--verdadero); }
.verdict-badge.falso     { background: var(--falso); }
.verdict-badge.enganoso  { background: var(--enganoso); }
.verdict-badge.incierto  { background: var(--incierto); }
.verdict-badge.verificando { background: var(--bg3); color: var(--text-muted); }

.claim-speaker {
  font-size: 10px;
  color: var(--text-muted);
  font-style: italic;
  cursor: pointer;
}
.claim-speaker:hover { color: var(--accent); }

.claim-timestamp {
  font-size: 10px;
  color: var(--text-muted);
  margin-left: auto;
}

.claim-text {
  padding: 8px 10px;
  font-size: 12px;
  line-height: 1.5;
  color: var(--text);
}
.claim-text em {
  font-style: normal;
  color: var(--text-muted);
  font-size: 11px;
}

.claim-body { padding: 0 10px 8px; }

.confidence-bar {
  height: 3px;
  background: var(--bg3);
  border-radius: 99px;
  overflow: hidden;
  margin: 4px 0 8px;
}
.confidence-fill {
  height: 100%;
  border-radius: 99px;
  transition: width 0.5s;
}

.claim-explanation {
  font-size: 11px;
  color: var(--text-muted);
  line-height: 1.5;
  margin-bottom: 8px;
}

.claim-sources {
  display: flex;
  flex-wrap: wrap;
  gap: 4px;
  margin-bottom: 8px;
}
.source-tag {
  font-size: 10px;
  background: var(--bg3);
  border: 1px solid var(--border);
  color: var(--accent);
  padding: 2px 7px;
  border-radius: 99px;
  text-decoration: none;
  white-space: nowrap;
}
.source-tag:hover { background: var(--accent); color: #fff; border-color: var(--accent); }

/* ─── AUDIT BUTTONS ─── */
.audit-buttons {
  display: flex;
  gap: 5px;
  margin-top: 8px;
}
.audit-btn {
  flex: 1;
  padding: 5px;
  font-size: 10px;
  font-weight: 600;
  border-radius: var(--radius-sm);
  border: 1px solid var(--border);
  background: var(--bg3);
  color: var(--text);
}
.audit-btn.approve { border-color: var(--verdadero); color: var(--verdadero); }
.audit-btn.approve:hover { background: var(--verdadero); color: #fff; }
.audit-btn.modify { border-color: var(--enganoso); color: var(--enganoso); }
.audit-btn.modify:hover { background: var(--enganoso); color: #fff; }
.audit-btn.skip { border-color: var(--incierto); color: var(--text-muted); }

/* Audit status */
.audit-status {
  font-size: 10px;
  padding: 3px 8px;
  border-radius: 99px;
  display: inline-block;
}
.audit-status.aprobado { background: #1a4d2e; color: #86efac; }
.audit-status.modificado { background: #4a2800; color: #fdba74; }
.audit-status.omitido { background: var(--bg3); color: var(--text-muted); }

/* ─── EXPORT ─── */
#export-area {
  display: flex;
  gap: 6px;
  flex-wrap: wrap;
}
.btn-export {
  flex: 1;
  min-width: 80px;
  padding: 8px 6px;
  font-size: 11px;
  font-weight: 600;
  background: var(--bg2);
  color: var(--text);
  border: 1px solid var(--border);
  border-radius: var(--radius-sm);
  text-align: center;
}
.btn-export:hover { border-color: var(--accent); color: var(--accent); }

/* ─── MODAL ─── */
#modal-overlay {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.7);
  z-index: 200;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 16px;
}
#modal-box {
  background: var(--bg2);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  max-width: 460px;
  width: 100%;
  max-height: 80vh;
  overflow-y: auto;
  padding: 20px;
  position: relative;
}
#modal-close {
  position: absolute;
  top: 12px;
  right: 12px;
  background: none;
  border: none;
  color: var(--text-muted);
  font-size: 18px;
  cursor: pointer;
}
#modal-content h3 {
  font-size: 15px;
  margin-bottom: 10px;
  color: var(--text);
  line-height: 1.4;
}
#modal-content .modal-verdict {
  margin-bottom: 14px;
}
#modal-content .modal-explanation {
  font-size: 13px;
  color: var(--text-muted);
  line-height: 1.6;
  margin-bottom: 14px;
}
#modal-content .modal-sources h4 {
  font-size: 11px;
  text-transform: uppercase;
  letter-spacing: 0.4px;
  color: var(--text-muted);
  margin-bottom: 8px;
}
#modal-content .source-link {
  display: block;
  color: var(--accent);
  font-size: 12px;
  margin-bottom: 5px;
  text-decoration: none;
}
#modal-content .source-link:hover { text-decoration: underline; }

/* ─── SPEAKER MODAL ─── */
#speaker-modal-overlay {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.7);
  z-index: 300;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 16px;
}
#speaker-modal-box {
  background: var(--bg2);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  padding: 20px;
  width: 280px;
}
#speaker-modal-box h3 {
  font-size: 14px;
  margin-bottom: 12px;
  color: var(--accent);
}
#speaker-name-input {
  width: 100%;
  padding: 8px 10px;
  background: var(--bg3);
  border: 1px solid var(--border);
  border-radius: var(--radius-sm);
  color: var(--text);
  font-size: 13px;
  margin-bottom: 12px;
  outline: none;
}
#speaker-name-input:focus { border-color: var(--accent); }
.speaker-modal-btns {
  display: flex;
  gap: 8px;
}
.speaker-modal-btns button { flex: 1; }

/* ─── SPEAKER GROUP (view by speaker) ─── */
.speaker-group-header {
  font-size: 12px;
  font-weight: 700;
  color: var(--accent);
  padding: 8px 0 4px;
  border-bottom: 1px solid var(--border);
  margin-bottom: 6px;
}

/* ─── SCROLLBAR ─── */
::-webkit-scrollbar { width: 6px; }
::-webkit-scrollbar-track { background: var(--bg); }
::-webkit-scrollbar-thumb { background: var(--border); border-radius: 3px; }
::-webkit-scrollbar-thumb:hover { background: var(--accent); }

/* ─── DISCLAIMER ─── */
.disclaimer {
  font-size: 10px;
  color: var(--text-muted);
  line-height: 1.5;
  margin-top: 12px;
  text-align: center;
}
