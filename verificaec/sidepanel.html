<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>VerificaEC</title>
  <link rel="stylesheet" href="sidepanel.css">
</head>
<body>

<!-- HEADER -->
<header id="app-header">
  <div id="logo-area">
    <span id="logo-text">VerificaEC</span>
    <span id="logo-sub">Verificador de Hechos</span>
  </div>
  <button id="btn-settings" title="Configuraci√≥n" aria-label="Configuraci√≥n">‚öôÔ∏è</button>
</header>

<!-- SETTINGS PANEL -->
<section id="settings-panel" class="hidden">
  <h2>Configuraci√≥n</h2>
  <div class="field-group">
    <label for="api-key-input">Clave API de Gemini</label>
    <input type="password" id="api-key-input" placeholder="AIza...">
    <a href="https://aistudio.google.com/apikey" target="_blank" class="hint-link">Obtener clave gratis ‚Üí</a>
  </div>
  <div class="field-group">
    <label for="mode-select">Modo de verificaci√≥n</label>
    <select id="mode-select">
      <option value="live">Tiempo real (subt√≠tulos YouTube)</option>
      <option value="batch">An√°lisis completo del video</option>
      <option value="mic">Micr√≥fono</option>
    </select>
  </div>
  <div class="field-group">
    <label for="interval-select">Intervalo de verificaci√≥n</label>
    <select id="interval-select">
      <option value="5000">~5 segundos</option>
      <option value="10000" selected>~10 segundos</option>
      <option value="20000">~20 segundos</option>
    </select>
  </div>
  <button id="btn-save-settings" class="btn-primary">Guardar configuraci√≥n</button>
  <button id="btn-close-settings" class="btn-secondary">Cerrar</button>
  <p class="disclaimer">VerificaEC es una herramienta de apoyo period√≠stico. La IA sugiere; el periodista decide y aprueba.</p>
</section>

<!-- MAIN PANEL -->
<main id="main-panel">

  <!-- Video info -->
  <div id="video-info" class="hidden">
    <span id="video-title-display"></span>
  </div>

  <!-- Controls -->
  <div id="controls">
    <button id="btn-start" class="btn-primary btn-large">‚ñ∂ Iniciar verificaci√≥n</button>
    <button id="btn-stop" class="btn-danger btn-large hidden">‚èπ Detener</button>
    <button id="btn-batch" class="btn-accent">‚ö° Analizar video completo</button>
  </div>

  <!-- Rate indicator -->
  <div id="rate-bar">
    <span id="rate-text">API: ‚Äî</span>
    <div id="rate-track"><div id="rate-fill"></div></div>
  </div>

  <!-- Progress (batch mode) -->
  <div id="progress-area" class="hidden">
    <div id="progress-label"></div>
    <div id="progress-track"><div id="progress-fill"></div></div>
  </div>

  <!-- Stats -->
  <div id="stats-bar" class="hidden">
    <span class="stat-badge verdadero" id="stat-v">V: 0</span>
    <span class="stat-badge falso" id="stat-f">F: 0</span>
    <span class="stat-badge enganoso" id="stat-e">E: 0</span>
    <span class="stat-badge incierto" id="stat-i">?: 0</span>
    <span id="stat-total"></span>
  </div>

  <!-- View switcher -->
  <div id="view-switcher" class="hidden">
    <button class="view-btn active" data-view="cronologico">Cronol√≥gico</button>
    <button class="view-btn" data-view="por-hablante">Por hablante</button>
  </div>

  <!-- Claims list -->
  <div id="claims-container">
    <div id="empty-state">
      <p>Inicia la verificaci√≥n para comenzar a identificar y verificar afirmaciones en tiempo real.</p>
      <p class="hint">Funciona con cualquier video de YouTube que tenga subt√≠tulos activados.</p>
    </div>
  </div>

  <!-- Export buttons -->
  <div id="export-area" class="hidden">
    <button id="btn-export-html" class="btn-export">üìÑ Exportar HTML</button>
    <button id="btn-export-json" class="btn-export">{ } Exportar JSON</button>
    <button id="btn-export-txt" class="btn-export">üìù Transcripci√≥n TXT</button>
  </div>

</main>

<!-- CLAIM DETAIL MODAL -->
<div id="modal-overlay" class="hidden">
  <div id="modal-box">
    <button id="modal-close">‚úï</button>
    <div id="modal-content"></div>
  </div>
</div>

<!-- SPEAKER LABEL MODAL -->
<div id="speaker-modal-overlay" class="hidden">
  <div id="speaker-modal-box">
    <h3>Etiquetar hablante</h3>
    <input type="text" id="speaker-name-input" placeholder="Nombre del hablante">
    <div class="speaker-modal-btns">
      <button id="speaker-save-btn" class="btn-primary">Guardar</button>
      <button id="speaker-cancel-btn" class="btn-secondary">Cancelar</button>
    </div>
  </div>
</div>

<script src="sidepanel.js"></script>
</body>
</html>
